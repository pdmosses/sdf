---
title: cons.stx
hide:
  - toc
---

# `cons.stx`

:simple-github: [pdmosses/sdf/org.metaborg.meta.lang.template/trans/statix/cons.stx]

[pdmosses/sdf/org.metaborg.meta.lang.template/trans/statix/cons.stx]: https://github.com/pdmosses/sdf/blob/master/org.metaborg.meta.lang.template/trans/statix/cons.stx "The source file on GitHub"

<div class="stx"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre></div></td>
<td class="code"><pre><code><span class="keyword">module</span> <a href="../sort_cons.stx/#statix/cons_78_89" id="statix/cons_7_18" title="Referenced at ../sort_cons.stx line 8"><span class="token sort_Id">statix/cons</span></a>

<span class="keyword">imports</span>
 
  <a href="../name.stx/#statix/name_7_18" id="statix/name_32_43" title="Defined at ../name.stx line 1"><span class="token sort_Id">statix/name</span></a>
  <a href="../type.stx/#statix/type_7_18" id="statix/type_46_57" title="Defined at ../type.stx line 1"><span class="token sort_Id">statix/type</span></a>
  <a href="../util.stx/#statix/util_7_18" id="statix/util_60_71" title="Defined at ../util.stx line 1"><span class="token sort_Id">statix/util</span></a>

<span class="keyword">rules</span> <span class="layout">// Constructor reusable predicates</span>

  <a href="#declareConstructor_183_201" id="declareConstructor_117_135" title="Referenced at line 12; ../sort_cons.stx line 35"><span class="token sort_Id">declareConstructor</span></a> <span class="operator">:</span> <span class="cons_ScopeSort">scope</span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../type.stx/#TYPE_39_43" id="TYPE_151_155" title="Defined at ../type.stx line 5"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../type.stx/#TYPE_39_43" id="TYPE_159_163" title="Defined at ../type.stx line 5"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="cons_StringSort">string</span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="../type.stx/#TYPE_39_43" id="TYPE_176_180" title="Defined at ../type.stx line 5"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#declareConstructor_117_135" id="declareConstructor_183_201" title="Defined at line 11"><span class="token sort_Id">declareConstructor</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_289_290" id="s_202_203" title="Referenced at line 14, 14, 15"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#Tsymbols_267_275" id="Tsymbols_205_213" title="Referenced at line 13"><span class="token sort_Id">Tsymbols</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#Tsort_277_282" id="Tsort_215_220" title="Referenced at line 13"><span class="token sort_Id">Tsort</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#name_306_310" id="name_222_226" title="Referenced at line 14, 14, 15, 15, 15, 16, 16, 17"><span class="token sort_Id">name</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#Tprod_253_258" id="Tprod_230_235" title="Referenced at line 13, 14, 16, 17"><span class="token sort_Id">Tprod</span></a></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#results_380_387" id="results_240_247" title="Referenced at line 15, 16"><span class="token sort_Id">results</span></a></span><span class="operator">}</span>
    <span class="cons_Var"><a href="#Tprod_230_235" id="Tprod_253_258" title="Defined at line 12"><span class="token sort_Id">Tprod</span></a></span> <span class="operator">==</span> <span class="cons_Op"><a href="../type.stx/#PROD_307_311" id="PROD_262_266" title="Defined at ../type.stx line 12"><span class="token sort_Id">PROD</span></a><span class="operator">(</span><span class="cons_Var"><a href="#Tsymbols_205_213" id="Tsymbols_267_275" title="Defined at line 12"><span class="token sort_Id">Tsymbols</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#Tsort_215_220" id="Tsort_277_282" title="Defined at line 12"><span class="token sort_Id">Tsort</span></a></span>)</span><span class="operator">,</span>
    <span class="token sort_Id">s</span> <span class="operator">-&gt;</span> <span class="token sort_Id">Constructor</span><span class="operator">{</span><span class="token sort_Id">name</span><span class="operator">}</span> <span class="keyword">with</span> <span class="cons_Label"><a href="../type.stx/#typeOfDecl_443_453" id="typeOfDecl_317_327" title="Defined at ../type.stx line 17"><span class="token sort_Id">typeOfDecl</span></a></span> <span class="cons_Var"><a href="#Tprod_230_235" id="Tprod_328_333" title="Defined at line 12"><span class="token sort_Id">Tprod</span></a></span><span class="operator">,</span>
    <span class="cons_Label"><a href="../type.stx/#typeOfDecl_443_453" id="typeOfDecl_339_349" title="Defined at ../type.stx line 17"><span class="token sort_Id">typeOfDecl</span></a></span> <span class="keyword">of</span> <span class="cons_StxOccurrence"><a href="../name.stx/#Constructor_126_137" id="Constructor_353_364" title="Defined at ../name.stx line 12"><span class="token sort_Id">Constructor</span></a><span class="operator">{</span><span class="cons_Var"><a href="#name_222_226" id="name_365_369" title="Defined at line 12"><span class="token sort_Id">name</span></a></span>}</span> <span class="keyword">in</span> <span class="cons_Var"><a href="#s_202_203" id="s_374_375" title="Defined at line 12"><span class="token sort_Id">s</span></a></span> <span class="operator">|-&gt;</span> <span class="cons_Var"><a href="#results_240_247" id="results_380_387" title="Defined at line 12"><span class="token sort_Id">results</span></a></span><span class="operator">,</span>
    <a href="../type.stx/#onlyOneOf_485_494" id="onlyOneOf_393_402" title="Defined at ../type.stx line 21"><span class="token sort_Id">onlyOneOf</span></a><span class="operator">(</span><span class="cons_Var"><a href="#Tprod_230_235" id="Tprod_403_408" title="Defined at line 12"><span class="token sort_Id">Tprod</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#results_240_247" id="results_410_417" title="Defined at line 12"><span class="token sort_Id">results</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Duplicate definition of constructor </span><span class="operator">[</span><span class="cons_Var"><a href="#name_222_226" id="name_466_470" title="Defined at line 12"><span class="token sort_Id">name</span></a></span><span class="operator">]]@</span><span class="cons_Var"><a href="#name_222_226" id="name_473_477" title="Defined at line 12"><span class="token sort_Id">name</span></a></span><span class="operator">,</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#name_222_226" id="name_484_488" title="Defined at line 12"><span class="token sort_Id">name</span></a></span><span class="operator">.</span><span class="token sort_Id">type</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#Tprod_230_235" id="Tprod_497_502" title="Defined at line 12"><span class="token sort_Id">Tprod</span></a></span><span class="operator">.</span>

  <a href="#typeOfConstructor_552_569" id="typeOfConstructor_507_524" title="Referenced at line 20"><span class="token sort_Id">typeOfConstructor</span></a> <span class="operator">:</span> <span class="cons_ScopeSort">scope</span> <span class="operator">*</span> <span class="cons_StringSort">string</span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="../type.stx/#TYPE_39_43" id="TYPE_545_549" title="Defined at ../type.stx line 5"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#typeOfConstructor_507_524" id="typeOfConstructor_552_569" title="Defined at line 19"><span class="token sort_Id">typeOfConstructor</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_637_638" id="s_570_571" title="Referenced at line 21"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#name_628_632" id="name_573_577" title="Referenced at line 21, 21, 21, 22, 23"><span class="token sort_Id">name</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#Tprod_703_708" id="Tprod_581_586" title="Referenced at line 22, 23"><span class="token sort_Id">Tprod</span></a></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#paths_643_648" id="paths_591_596" title="Referenced at line 21, 22"><span class="token sort_Id">paths</span></a></span><span class="operator">}</span>
    <span class="cons_Label"><a href="../type.stx/#typeOfDecl_443_453" id="typeOfDecl_602_612" title="Defined at ../type.stx line 17"><span class="token sort_Id">typeOfDecl</span></a></span> <span class="keyword">of</span> <span class="cons_StxOccurrence"><a href="../name.stx/#Constructor_126_137" id="Constructor_616_627" title="Defined at ../name.stx line 12"><span class="token sort_Id">Constructor</span></a><span class="operator">{</span><span class="cons_Var"><a href="#name_573_577" id="name_628_632" title="Defined at line 20"><span class="token sort_Id">name</span></a></span>}</span> <span class="keyword">in</span> <span class="cons_Var"><a href="#s_570_571" id="s_637_638" title="Defined at line 20"><span class="token sort_Id">s</span></a></span> <span class="operator">|-&gt;</span> <span class="cons_Var"><a href="#paths_591_596" id="paths_643_648" title="Defined at line 20"><span class="token sort_Id">paths</span></a></span><span class="operator">,</span>
    <a href="#resolveConstructors_738_757" id="resolveConstructors_654_673" title="Defined at line 25"><span class="token sort_Id">resolveConstructors</span></a><span class="operator">(</span><span class="cons_Var"><a href="#name_573_577" id="name_674_678" title="Defined at line 20"><span class="token sort_Id">name</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#paths_591_596" id="paths_680_685" title="Defined at line 20"><span class="token sort_Id">paths</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../util.stx/#NON_EMPTY_66_75" id="NON_EMPTY_687_696" title="Defined at ../util.stx line 6"><span class="token sort_Id">NON_EMPTY</span></a>()</span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#Tprod_581_586" id="Tprod_703_708" title="Defined at line 20"><span class="token sort_Id">Tprod</span></a></span><span class="operator">,</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#name_573_577" id="name_715_719" title="Defined at line 20"><span class="token sort_Id">name</span></a></span><span class="operator">.</span><span class="token sort_Id">type</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#Tprod_581_586" id="Tprod_728_733" title="Defined at line 20"><span class="token sort_Id">Tprod</span></a></span><span class="operator">.</span>

  <a href="#resolveConstructors_654_673" id="resolveConstructors_738_757" title="Referenced at line 22, 26, 28, 29, 30"><span class="token sort_Id">resolveConstructors</span></a> <span class="operator">:</span> <span class="cons_StringSort">string</span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">((</span><span class="cons_PathSort">path</span> <span class="operator">*</span> <span class="operator">(</span><span class="cons_OccurrenceSort">occurrence</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../type.stx/#TYPE_39_43" id="TYPE_796_800" title="Defined at ../type.stx line 5"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)))</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../util.stx/#EMPTINESS_39_48" id="EMPTINESS_806_815" title="Defined at ../util.stx line 5"><span class="token sort_Id">EMPTINESS</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="../type.stx/#TYPE_39_43" id="TYPE_819_823" title="Defined at ../type.stx line 5"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#resolveConstructors_738_757" id="resolveConstructors_826_845" title="Defined at line 25"><span class="token sort_Id">resolveConstructors</span></a><span class="operator">(</span><span class="cons_Var"><a href="#name_913_917" id="name_846_850" title="Referenced at line 27, 28"><span class="token sort_Id">name</span></a></span><span class="operator">,</span> <span class="operator">[(_,</span> <span class="operator">(</span><span class="cons_StxOccurrence"><a href="../name.stx/#Constructor_126_137" id="Constructor_858_869" title="Defined at ../name.stx line 12"><span class="token sort_Id">Constructor</span></a><span class="operator">{</span><span class="cons_Var"><a href="#name'_925_930" id="name'_870_875" title="Referenced at line 27"><span class="token sort_Id">name'</span></a></span>}</span><span class="operator">,</span> <span class="cons_Var">Tprod</span><span class="operator">))|</span><span class="cons_Var"><a href="#paths_962_967" id="paths_886_891" title="Referenced at line 28"><span class="token sort_Id">paths</span></a></span><span class="operator">],</span> <span class="operator">_)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#Tprod_987_992" id="Tprod_899_904" title="Referenced at line 28"><span class="token sort_Id">Tprod</span></a></span> <span class="operator">:-</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#name_846_850" id="name_913_917" title="Defined at line 26"><span class="token sort_Id">name</span></a></span><span class="operator">.</span><span class="keyword">ref</span> <span class="operator">+=</span> <span class="cons_Var"><a href="#name'_870_875" id="name'_925_930" title="Defined at line 26"><span class="token sort_Id">name'</span></a></span><span class="operator">,</span>
    <a href="#resolveConstructors_738_757" id="resolveConstructors_936_955" title="Defined at line 25"><span class="token sort_Id">resolveConstructors</span></a><span class="operator">(</span><span class="cons_Var"><a href="#name_846_850" id="name_956_960" title="Defined at line 26"><span class="token sort_Id">name</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#paths_886_891" id="paths_962_967" title="Defined at line 26"><span class="token sort_Id">paths</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../util.stx/#MAYBE_EMPTY_94_105" id="MAYBE_EMPTY_969_980" title="Defined at ../util.stx line 7"><span class="token sort_Id">MAYBE_EMPTY</span></a>()</span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#Tprod_899_904" id="Tprod_987_992" title="Defined at line 26"><span class="token sort_Id">Tprod</span></a></span><span class="operator">.</span>
  <a href="#resolveConstructors_738_757" id="resolveConstructors_996_1015" title="Defined at line 25"><span class="token sort_Id">resolveConstructors</span></a><span class="operator">(</span><span class="cons_Var"><a href="#name_1077_1081" id="name_1016_1020" title="Referenced at line 29, 29"><span class="token sort_Id">name</span></a></span><span class="operator">,</span> <span class="operator">[],</span> <span class="cons_Op"><a href="../util.stx/#NON_EMPTY_66_75" id="NON_EMPTY_1026_1035" title="Defined at ../util.stx line 6"><span class="token sort_Id">NON_EMPTY</span></a>()</span><span class="operator">)</span>   <span class="operator">=</span> <span class="operator">_</span> <span class="operator">:-</span> <span class="keyword">false</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Constructor </span><span class="operator">[</span><span class="cons_Var"><a href="#name_1016_1020" id="name_1077_1081" title="Defined at line 29"><span class="token sort_Id">name</span></a></span><span class="operator">]</span><span class="cons_Text"> not defined</span><span class="operator">]@</span><span class="cons_Var"><a href="#name_1016_1020" id="name_1096_1100" title="Defined at line 29"><span class="token sort_Id">name</span></a></span><span class="operator">.</span>
  <a href="#resolveConstructors_738_757" id="resolveConstructors_1104_1123" title="Defined at line 25"><span class="token sort_Id">resolveConstructors</span></a><span class="operator">(</span><span class="cons_Var"><span id="name_1124_1128" title="Not referenced locally, nor via imports"><span class="token sort_Id">name</span></span></span><span class="operator">,</span> <span class="operator">[],</span> <span class="cons_Op"><a href="../util.stx/#MAYBE_EMPTY_94_105" id="MAYBE_EMPTY_1134_1145" title="Defined at ../util.stx line 7"><span class="token sort_Id">MAYBE_EMPTY</span></a>()</span><span class="operator">)</span> <span class="operator">=</span> <span class="operator">_.</span>

  <a href="#typeOfConstructorInSort_1215_1238" id="typeOfConstructorInSort_1157_1180" title="Referenced at line 33; ../sort_cons.stx line 47"><span class="token sort_Id">typeOfConstructorInSort</span></a> <span class="operator">:</span> <span class="cons_ScopeSort">scope</span> <span class="operator">*</span> <span class="cons_StringSort">string</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../type.stx/#TYPE_39_43" id="TYPE_1200_1204" title="Defined at ../type.stx line 5"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="../type.stx/#TYPE_39_43" id="TYPE_1208_1212" title="Defined at ../type.stx line 5"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#typeOfConstructorInSort_1157_1180" id="typeOfConstructorInSort_1215_1238" title="Defined at line 32"><span class="token sort_Id">typeOfConstructorInSort</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_1313_1314" id="s_1239_1240" title="Referenced at line 34"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#name_1304_1308" id="name_1242_1246" title="Referenced at line 34, 34, 34, 35, 36"><span class="token sort_Id">name</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#Tsort_1362_1367" id="Tsort_1248_1253" title="Referenced at line 35"><span class="token sort_Id">Tsort</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#Tprod_1392_1397" id="Tprod_1257_1262" title="Referenced at line 35, 36"><span class="token sort_Id">Tprod</span></a></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#paths_1319_1324" id="paths_1267_1272" title="Referenced at line 34, 35"><span class="token sort_Id">paths</span></a></span><span class="operator">}</span>
    <span class="cons_Label"><a href="../type.stx/#typeOfDecl_443_453" id="typeOfDecl_1278_1288" title="Defined at ../type.stx line 17"><span class="token sort_Id">typeOfDecl</span></a></span> <span class="keyword">of</span> <span class="cons_StxOccurrence"><a href="../name.stx/#Constructor_305_316" id="Constructor_1292_1303" title="Defined at ../name.stx line 19"><span class="token sort_Id">Constructor</span></a><span class="operator">{</span><span class="cons_Var"><a href="#name_1242_1246" id="name_1304_1308" title="Defined at line 33"><span class="token sort_Id">name</span></a></span>}</span> <span class="keyword">in</span> <span class="cons_Var"><a href="#s_1239_1240" id="s_1313_1314" title="Defined at line 33"><span class="token sort_Id">s</span></a></span> <span class="operator">|-&gt;</span> <span class="cons_Var"><a href="#paths_1267_1272" id="paths_1319_1324" title="Defined at line 33"><span class="token sort_Id">paths</span></a></span><span class="operator">,</span>
    <a href="#resolveConstructorsInSort_1427_1452" id="resolveConstructorsInSort_1330_1355" title="Defined at line 38"><span class="token sort_Id">resolveConstructorsInSort</span></a><span class="operator">(</span><span class="cons_Var"><a href="#name_1242_1246" id="name_1356_1360" title="Defined at line 33"><span class="token sort_Id">name</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#Tsort_1248_1253" id="Tsort_1362_1367" title="Defined at line 33"><span class="token sort_Id">Tsort</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#paths_1267_1272" id="paths_1369_1374" title="Defined at line 33"><span class="token sort_Id">paths</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../util.stx/#NON_EMPTY_66_75" id="NON_EMPTY_1376_1385" title="Defined at ../util.stx line 6"><span class="token sort_Id">NON_EMPTY</span></a>()</span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#Tprod_1257_1262" id="Tprod_1392_1397" title="Defined at line 33"><span class="token sort_Id">Tprod</span></a></span><span class="operator">,</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#name_1242_1246" id="name_1404_1408" title="Defined at line 33"><span class="token sort_Id">name</span></a></span><span class="operator">.</span><span class="token sort_Id">type</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#Tprod_1257_1262" id="Tprod_1417_1422" title="Defined at line 33"><span class="token sort_Id">Tprod</span></a></span><span class="operator">.</span>

  <a href="#resolveConstructorsInSort_1330_1355" id="resolveConstructorsInSort_1427_1452" title="Referenced at line 35, 39, 41, 42, 43, 44, 45"><span class="token sort_Id">resolveConstructorsInSort</span></a> <span class="operator">:</span> <span class="cons_StringSort">string</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../type.stx/#TYPE_39_43" id="TYPE_1464_1468" title="Defined at ../type.stx line 5"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">((</span><span class="cons_PathSort">path</span> <span class="operator">*</span> <span class="operator">(</span><span class="cons_OccurrenceSort">occurrence</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../type.stx/#TYPE_39_43" id="TYPE_1498_1502" title="Defined at ../type.stx line 5"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)))</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../util.stx/#EMPTINESS_39_48" id="EMPTINESS_1508_1517" title="Defined at ../util.stx line 5"><span class="token sort_Id">EMPTINESS</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="../type.stx/#TYPE_39_43" id="TYPE_1521_1525" title="Defined at ../type.stx line 5"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#resolveConstructorsInSort_1427_1452" id="resolveConstructorsInSort_1528_1553" title="Defined at line 38"><span class="token sort_Id">resolveConstructorsInSort</span></a><span class="operator">(</span><span class="cons_Var"><a href="#name_1643_1647" id="name_1554_1558" title="Referenced at line 40, 41"><span class="token sort_Id">name</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#Tsort_1698_1703" id="Tsort_1560_1565" title="Referenced at line 41"><span class="token sort_Id">Tsort</span></a></span><span class="operator">,</span> <span class="operator">[(_,</span> <span class="operator">(</span><span class="cons_StxOccurrence"><a href="../name.stx/#Constructor_126_137" id="Constructor_1573_1584" title="Defined at ../name.stx line 12"><span class="token sort_Id">Constructor</span></a><span class="operator">{</span><span class="cons_Var"><a href="#name'_1655_1660" id="name'_1585_1590" title="Referenced at line 40"><span class="token sort_Id">name'</span></a></span>}</span><span class="operator">,</span> <span class="cons_Var">Tprod</span><span class="operator">@</span><span class="cons_Op"><a href="../type.stx/#PROD_307_311" id="PROD_1599_1603" title="Defined at ../type.stx line 12"><span class="token sort_Id">PROD</span></a><span class="operator">(_,</span> <span class="cons_Var">Tsort</span>)</span><span class="operator">))|</span><span class="cons_Var"><a href="#paths_1705_1710" id="paths_1616_1621" title="Referenced at line 41"><span class="token sort_Id">paths</span></a></span><span class="operator">],</span> <span class="operator">_)</span> <span class="operator">=</span> <span class="cons_Var"><span id="Tprod_1629_1634" title="Not referenced locally, nor via imports"><span class="token sort_Id">Tprod</span></span></span> <span class="operator">:-</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#name_1554_1558" id="name_1643_1647" title="Defined at line 39"><span class="token sort_Id">name</span></a></span><span class="operator">.</span><span class="keyword">ref</span> <span class="operator">+=</span> <span class="cons_Var"><a href="#name'_1585_1590" id="name'_1655_1660" title="Defined at line 39"><span class="token sort_Id">name'</span></a></span><span class="operator">,</span>
    <a href="#resolveConstructorsInSort_1427_1452" id="resolveConstructorsInSort_1666_1691" title="Defined at line 38"><span class="token sort_Id">resolveConstructorsInSort</span></a><span class="operator">(</span><span class="cons_Var"><a href="#name_1554_1558" id="name_1692_1696" title="Defined at line 39"><span class="token sort_Id">name</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#Tsort_1560_1565" id="Tsort_1698_1703" title="Defined at line 39"><span class="token sort_Id">Tsort</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#paths_1616_1621" id="paths_1705_1710" title="Defined at line 39"><span class="token sort_Id">paths</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../util.stx/#MAYBE_EMPTY_94_105" id="MAYBE_EMPTY_1712_1723" title="Defined at ../util.stx line 7"><span class="token sort_Id">MAYBE_EMPTY</span></a>()</span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">_.</span>
  <a href="#resolveConstructorsInSort_1427_1452" id="resolveConstructorsInSort_1735_1760" title="Defined at line 38"><span class="token sort_Id">resolveConstructorsInSort</span></a><span class="operator">(</span><span class="cons_Var"><a href="#name_1864_1868" id="name_1761_1765" title="Referenced at line 43"><span class="token sort_Id">name</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#Tsort_1870_1875" id="Tsort_1767_1772" title="Referenced at line 43"><span class="token sort_Id">Tsort</span></a></span><span class="operator">,</span> <span class="operator">[(_,</span> <span class="operator">(</span><span class="cons_StxOccurrence"><a href="../name.stx/#Constructor_126_137" id="Constructor_1780_1791" title="Defined at ../name.stx line 12"><span class="token sort_Id">Constructor</span></a><span class="operator">{</span><span class="cons_Var"><span id="name'_1792_1797" title="Not referenced locally, nor via imports"><span class="token sort_Id">name'</span></span></span>}</span><span class="operator">,</span> <span class="operator">_))|</span><span class="cons_Var"><a href="#paths_1877_1882" id="paths_1804_1809" title="Referenced at line 43"><span class="token sort_Id">paths</span></a></span><span class="operator">],</span> <span class="cons_Var"><a href="#emptiness_1884_1893" id="emptiness_1812_1821" title="Referenced at line 43"><span class="token sort_Id">emptiness</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#Tprod_1898_1903" id="Tprod_1825_1830" title="Referenced at line 43"><span class="token sort_Id">Tprod</span></a></span> <span class="operator">:-</span>
    <a href="#resolveConstructorsInSort_1427_1452" id="resolveConstructorsInSort_1838_1863" title="Defined at line 38"><span class="token sort_Id">resolveConstructorsInSort</span></a><span class="operator">(</span><span class="cons_Var"><a href="#name_1761_1765" id="name_1864_1868" title="Defined at line 42"><span class="token sort_Id">name</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#Tsort_1767_1772" id="Tsort_1870_1875" title="Defined at line 42"><span class="token sort_Id">Tsort</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#paths_1804_1809" id="paths_1877_1882" title="Defined at line 42"><span class="token sort_Id">paths</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#emptiness_1812_1821" id="emptiness_1884_1893" title="Defined at line 42"><span class="token sort_Id">emptiness</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#Tprod_1825_1830" id="Tprod_1898_1903" title="Defined at line 42"><span class="token sort_Id">Tprod</span></a></span><span class="operator">.</span>
  <a href="#resolveConstructorsInSort_1427_1452" id="resolveConstructorsInSort_1907_1932" title="Defined at line 38"><span class="token sort_Id">resolveConstructorsInSort</span></a><span class="operator">(</span><span class="cons_Var"><a href="#name_2001_2005" id="name_1933_1937" title="Referenced at line 44, 44"><span class="token sort_Id">name</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#Tsort_2023_2028" id="Tsort_1939_1944" title="Referenced at line 44"><span class="token sort_Id">Tsort</span></a></span><span class="operator">,</span> <span class="operator">[],</span> <span class="cons_Op"><a href="../util.stx/#NON_EMPTY_66_75" id="NON_EMPTY_1950_1959" title="Defined at ../util.stx line 6"><span class="token sort_Id">NON_EMPTY</span></a>()</span><span class="operator">)</span>   <span class="operator">=</span> <span class="operator">_</span> <span class="operator">:-</span> <span class="keyword">false</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[</span><span class="cons_Text">Constructor </span><span class="operator">[</span><span class="cons_Var"><a href="#name_1933_1937" id="name_2001_2005" title="Defined at line 44"><span class="token sort_Id">name</span></a></span><span class="operator">]</span><span class="cons_Text"> not defined in </span><span class="operator">[</span><span class="cons_Var"><a href="#Tsort_1939_1944" id="Tsort_2023_2028" title="Defined at line 44"><span class="token sort_Id">Tsort</span></a></span><span class="operator">]]@</span><span class="cons_Var"><a href="#name_1933_1937" id="name_2031_2035" title="Defined at line 44"><span class="token sort_Id">name</span></a></span><span class="operator">.</span>
  <a href="#resolveConstructorsInSort_1427_1452" id="resolveConstructorsInSort_2039_2064" title="Defined at line 38"><span class="token sort_Id">resolveConstructorsInSort</span></a><span class="operator">(</span><span class="cons_Var"><span id="name_2065_2069" title="Not referenced locally, nor via imports"><span class="token sort_Id">name</span></span></span><span class="operator">,</span> <span class="cons_Var"><span id="Tsort_2071_2076" title="Not referenced locally, nor via imports"><span class="token sort_Id">Tsort</span></span></span><span class="operator">,</span> <span class="operator">[],</span> <span class="cons_Op"><a href="../util.stx/#MAYBE_EMPTY_94_105" id="MAYBE_EMPTY_2082_2093" title="Defined at ../util.stx line 7"><span class="token sort_Id">MAYBE_EMPTY</span></a>()</span><span class="operator">)</span> <span class="operator">=</span> <span class="operator">_.</span>

</code></pre></td></tr></tbody></table></div>
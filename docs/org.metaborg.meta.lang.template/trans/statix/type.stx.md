---
title: type.stx
hide:
  - toc
---

# `type.stx`

:simple-github: [pdmosses/sdf/org.metaborg.meta.lang.template/trans/statix/type.stx]

[pdmosses/sdf/org.metaborg.meta.lang.template/trans/statix/type.stx]: https://github.com/pdmosses/sdf/blob/master/org.metaborg.meta.lang.template/trans/statix/type.stx "The source file on GitHub"

<div class="stx"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre></div></td>
<td class="code"><pre><code><span class="keyword">module</span> <button class="modal-open" id="statix/type_1_8" title="a definition with multiple references" data-urls="../cons.stx/#statix/type line 6_3; ../main.stx/#statix/type line 6_3; ../module.stx/#statix/type line 7_3; ../production.stx/#statix/type line 5_3; ../sort.stx/#statix/type line 6_3; ../sort_cons.stx/#statix/type line 6_3; ../symbol.stx/#statix/type line 5_3; ../section/syntax.stx/#statix/type line 8_3; ../section/template.stx/#statix/type line 7_3"><span class="token sort_Id">statix/type</span></button>

<span class="keyword">signature</span>

  <span class="keyword">sorts</span> <span class="cons_SortDecl"><button class="modal-open" id="TYPE_5_9" title="a definition with multiple references" data-urls="#TYPE line 6_37, 7_16, 7_28, 7_37, 8_16, 8_37, 9_16, 9_37, 10_16, 10_23, 10_37, 11_37, 12_21, 12_29, 12_37, 13_21, 13_29, 13_37, 14_37, 17_32, 21_15, 21_49, 26_12, 26_46, 31_22, 31_35, 31_49, 35_28, 35_43; ../cons.stx/#TYPE line 11_37, 11_45, 11_62, 19_41, 25_61, 25_84, 32_46, 32_54, 38_40, 38_74, 38_97; ../module.stx/#TYPE line 43_40, 49_58, 49_81; ../production.stx/#TYPE line 11_26; ../sort.stx/#TYPE line 21_47, 28_34, 34_60, 34_83; ../sort_cons.stx/#TYPE line 32_33, 32_53, 37_41, 44_45; ../symbol.stx/#TYPE line 36_35; ../section/syntax.stx/#TYPE line 69_49; ../section/template.stx/#TYPE line 48_59, 63_44, 72_65, 78_52, 85_57, 90_45"><span class="token sort_Id">TYPE</span></button></span> <span class="keyword">constructors</span>
    <span class="cons_OpDecl"><a href="../sort.stx/#SORT_23_14" id="SORT_6_5" title="a definition with a single reference"><span class="token sort_Id">SORT</span></a>     <span class="operator">:</span> <span class="cons_OccurrenceSort"><span class="keyword">occurrence</span></span>        <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_6_37" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="../symbol.stx/#SEQ_55_48" id="SEQ_7_5" title="a definition with a single reference"><span class="token sort_Id">SEQ</span></a>      <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_7_16" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_7_28" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_7_37" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="../symbol.stx/#OPT_58_34" id="OPT_8_5" title="a definition with a single reference"><span class="token sort_Id">OPT</span></a>      <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_8_16" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span>              <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_8_37" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><button class="modal-open" id="ITER_9_5" title="a definition with multiple references" data-urls="../symbol.stx/#ITER line 60_35, 62_39, 64_41, 66_45"><span class="token sort_Id">ITER</span></button>     <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_9_16" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span>              <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_9_37" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="../symbol.stx/#ALT_68_44" id="ALT_10_5" title="a definition with a single reference"><span class="token sort_Id">ALT</span></a>      <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_10_16" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_10_23" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span>       <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_10_37" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><button class="modal-open" id="TERMINAL_11_5" title="a definition with multiple references" data-urls="../symbol.stx/#TERMINAL line 72_35, 73_35, 74_35, 75_35"><span class="token sort_Id">TERMINAL</span></button> <span class="operator">:</span>                      <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_11_37" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><button class="modal-open" id="PROD_12_5" title="a definition with multiple references" data-urls="../cons.stx/#PROD line 13_14, 39_74"><span class="token sort_Id">PROD</span></button>     <span class="operator">:</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_12_21" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_12_29" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_12_37" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><button class="modal-open" id="INJ_13_5" title="a definition with multiple references" data-urls="../section/syntax.stx/#INJ line 74_14; ../section/template.stx/#INJ line 53_14"><span class="token sort_Id">INJ</span></button>      <span class="operator">:</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_13_21" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_13_29" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_13_37" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><button class="modal-open" id="MOD_14_5" title="a definition with multiple references" data-urls="../module.stx/#MOD line 40_43, 76_30"><span class="token sort_Id">MOD</span></button>      <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span>             <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_14_37" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span></span>

  <span class="keyword">relations</span>
    <span class="cons_Label"><button class="modal-open" id="typeOfDecl_17_5" title="a definition with multiple references" data-urls="../cons.stx/#typeOfDecl line 14_33, 15_5, 21_5, 34_5; ../module.stx/#typeOfDecl line 40_32, 46_5; ../sort.stx/#typeOfDecl line 24_26, 30_5"><span class="token sort_Id">typeOfDecl</span></button></span> <span class="operator">:</span> <span class="cons_OccurrenceSort"><span class="keyword">occurrence</span></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_17_32" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span>

<span class="keyword">rules</span>

  <button class="modal-open" id="onlyOneOf_21_3" title="a definition with multiple references" data-urls="#onlyOneOf line 22_3, 23_3, 23_40, 24_3; ../cons.stx/#onlyOneOf line 16_5"><span class="token sort_Id">onlyOneOf</span></button> <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_21_15" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">((</span><span class="cons_PathSort"><span class="keyword">path</span></span> <span class="operator">*</span> <span class="operator">(</span><span class="cons_OccurrenceSort"><span class="keyword">occurrence</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_21_49" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)))</span>
  <a href="#onlyOneOf_21_3" id="onlyOneOf_22_3" title="a reference to a single-file definition"><span class="token sort_Id">onlyOneOf</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ty_22_47" id="ty_22_13" title="a definition with a single reference"><span class="token sort_Id">ty</span></a></span><span class="operator">,</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Var">ty</span> <span class="operator">))|</span><span class="cons_Var"><a href="#ps_22_51" id="ps_22_32" title="a definition with a single reference"><span class="token sort_Id">ps</span></a></span><span class="operator">])</span> <span class="operator">:-</span> <a href="#noneOf_26_3" id="noneOf_22_40" title="a reference to a single-file definition"><span class="token sort_Id">noneOf</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ty_22_13" id="ty_22_47" title="a reference to a single-file definition"><span class="token sort_Id">ty</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ps_22_32" id="ps_22_51" title="a reference to a single-file definition"><span class="token sort_Id">ps</span></a></span><span class="operator">).</span>
  <a href="#onlyOneOf_21_3" id="onlyOneOf_23_3" title="a reference to a single-file definition"><span class="token sort_Id">onlyOneOf</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ty_23_50" id="ty_23_13" title="a definition with a single reference"><span class="token sort_Id">ty</span></a></span><span class="operator">,</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Var"><span id="ty'_23_26" title="a definition with no references"><span class="token sort_Id">ty'</span></span></span><span class="operator">))|</span><span class="cons_Var"><a href="#ps_23_54" id="ps_23_32" title="a definition with a single reference"><span class="token sort_Id">ps</span></a></span><span class="operator">])</span> <span class="operator">:-</span> <a href="#onlyOneOf_21_3" id="onlyOneOf_23_40" title="a reference to a single-file definition"><span class="token sort_Id">onlyOneOf</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ty_23_13" id="ty_23_50" title="a reference to a single-file definition"><span class="token sort_Id">ty</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ps_23_32" id="ps_23_54" title="a reference to a single-file definition"><span class="token sort_Id">ps</span></a></span><span class="operator">).</span>
  <a href="#onlyOneOf_21_3" id="onlyOneOf_24_3" title="a reference to a single-file definition"><span class="token sort_Id">onlyOneOf</span></a><span class="operator">(</span><span class="cons_Var"><span id="ty_24_13" title="a definition with no references"><span class="token sort_Id">ty</span></span></span><span class="operator">,</span> <span class="operator">[])</span>                 <span class="operator">:-</span> <span class="keyword">false</span><span class="operator">.</span>

  <button class="modal-open" id="noneOf_26_3" title="a definition with multiple references" data-urls="#noneOf line 22_40, 27_3, 28_3, 28_37, 29_3"><span class="token sort_Id">noneOf</span></button> <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_26_12" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">((</span><span class="cons_PathSort"><span class="keyword">path</span></span> <span class="operator">*</span> <span class="operator">(</span><span class="cons_OccurrenceSort"><span class="keyword">occurrence</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_26_46" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)))</span>
  <a href="#noneOf_26_3" id="noneOf_27_3" title="a reference to a single-file definition"><span class="token sort_Id">noneOf</span></a><span class="operator">(</span><span class="cons_Var"><span id="ty_27_10" title="a definition with no references"><span class="token sort_Id">ty</span></span></span><span class="operator">,</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Var">ty</span> <span class="operator">))|</span><span class="cons_Var"><span id="ps_27_29" title="a definition with no references"><span class="token sort_Id">ps</span></span></span><span class="operator">])</span> <span class="operator">:-</span> <span class="keyword">false</span><span class="operator">.</span>
  <a href="#noneOf_26_3" id="noneOf_28_3" title="a reference to a single-file definition"><span class="token sort_Id">noneOf</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ty_28_44" id="ty_28_10" title="a definition with a single reference"><span class="token sort_Id">ty</span></a></span><span class="operator">,</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Var"><span id="ty'_28_23" title="a definition with no references"><span class="token sort_Id">ty'</span></span></span><span class="operator">))|</span><span class="cons_Var"><a href="#ps_28_48" id="ps_28_29" title="a definition with a single reference"><span class="token sort_Id">ps</span></a></span><span class="operator">])</span> <span class="operator">:-</span> <a href="#noneOf_26_3" id="noneOf_28_37" title="a reference to a single-file definition"><span class="token sort_Id">noneOf</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ty_28_10" id="ty_28_44" title="a reference to a single-file definition"><span class="token sort_Id">ty</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ps_28_29" id="ps_28_48" title="a reference to a single-file definition"><span class="token sort_Id">ps</span></a></span><span class="operator">).</span>
  <a href="#noneOf_26_3" id="noneOf_29_3" title="a reference to a single-file definition"><span class="token sort_Id">noneOf</span></a><span class="operator">(</span><span class="cons_Var"><span id="ty_29_10" title="a definition with no references"><span class="token sort_Id">ty</span></span></span><span class="operator">,</span> <span class="operator">[])</span>                 <span class="operator">:-</span> <span class="keyword">true</span><span class="operator">.</span>

  <button class="modal-open" id="appendTypes_31_3" title="a definition with multiple references" data-urls="#appendTypes line 32_3, 32_35, 33_3, 36_28; ../section/template.stx/#appendTypes line 66_51, 79_41"><span class="token sort_Id">appendTypes</span></button> <span class="operator">:</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_31_22" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_31_35" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">-&gt;</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_31_49" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span>
  <a href="#appendTypes_31_3" id="appendTypes_32_3" title="a reference to a single-file definition"><span class="token sort_Id">appendTypes</span></a><span class="operator">([</span><span class="cons_Var"><span id="t_32_16" title="a definition with no references"><span class="token sort_Id">t</span></span></span><span class="operator">|</span><span class="cons_Var"><span id="ts_32_18" title="a definition with no references"><span class="token sort_Id">ts</span></span></span><span class="operator">],</span> <span class="cons_Var">types</span><span class="operator">)</span> <span class="operator">=</span> <span class="operator">[</span><span class="cons_Var">t</span><span class="operator">|</span><a href="#appendTypes_31_3" id="appendTypes_32_35" title="a reference to a single-file definition"><span class="token sort_Id">appendTypes</span></a><span class="operator">(</span><span class="cons_Var">ts</span><span class="operator">,</span> <span class="cons_Var"><span id="types_32_51" title="a definition with no references"><span class="token sort_Id">types</span></span></span><span class="operator">)].</span>
  <a href="#appendTypes_31_3" id="appendTypes_33_3" title="a reference to a single-file definition"><span class="token sort_Id">appendTypes</span></a><span class="operator">([</span>    <span class="operator">],</span> <span class="cons_Var">types</span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><span id="types_33_32" title="a definition with no references"><span class="token sort_Id">types</span></span></span><span class="operator">.</span>

  <button class="modal-open" id="flattenTypes_35_3" title="a definition with multiple references" data-urls="#flattenTypes line 36_3, 36_44, 37_3; ../section/template.stx/#flattenTypes line 64_51, 65_51"><span class="token sort_Id">flattenTypes</span></button> <span class="operator">:</span> <span class="keyword">list</span><span class="operator">(</span><span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_35_28" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">))</span> <span class="operator">-&gt;</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_35_43" title="a reference to a single-file definition"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span>
  <a href="#flattenTypes_35_3" id="flattenTypes_36_3" title="a reference to a single-file definition"><span class="token sort_Id">flattenTypes</span></a><span class="operator">([</span><span class="cons_Var">ts</span><span class="operator">|</span><span class="cons_Var">tts</span><span class="operator">])</span> <span class="operator">=</span> <a href="#appendTypes_31_3" id="appendTypes_36_28" title="a reference to a single-file definition"><span class="token sort_Id">appendTypes</span></a><span class="operator">(</span><span class="cons_Var"><span id="ts_36_40" title="a definition with no references"><span class="token sort_Id">ts</span></span></span><span class="operator">,</span> <a href="#flattenTypes_35_3" id="flattenTypes_36_44" title="a reference to a single-file definition"><span class="token sort_Id">flattenTypes</span></a><span class="operator">(</span><span class="cons_Var"><span id="tts_36_57" title="a definition with no references"><span class="token sort_Id">tts</span></span></span><span class="operator">)).</span>
  <a href="#flattenTypes_35_3" id="flattenTypes_37_3" title="a reference to a single-file definition"><span class="token sort_Id">flattenTypes</span></a><span class="operator">([</span>      <span class="operator">])</span> <span class="operator">=</span> <span class="operator">[].</span>

</code></pre></td></tr></tbody></table></div>

<div id="modal">
  <div id="modal-content">
    <span id="modal-close">&times;</span>
    <h2 id="modal-h2"></h2>
    <p  id="modal-p"></p>
    <ul id="modal-ul"></ul>
  </div>
</div>

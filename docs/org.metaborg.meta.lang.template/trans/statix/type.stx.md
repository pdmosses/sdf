---
title: type.stx
hide:
  - toc
---

# `type.stx`

:simple-github: [pdmosses/sdf/org.metaborg.meta.lang.template/trans/statix/type.stx]

[pdmosses/sdf/org.metaborg.meta.lang.template/trans/statix/type.stx]: https://github.com/pdmosses/sdf/blob/master/org.metaborg.meta.lang.template/trans/statix/type.stx "The source file on GitHub"

<div class="stx"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre></div></td>
<td class="code"><pre><code><span class="keyword">module</span> <button class="modal-open" id="statix/type_1_8" title="Multi-file references" data-urls="../cons.stx/#statix/type_6_3 line 6; ../main.stx/#statix/type_6_3 line 6; ../module.stx/#statix/type_7_3 line 7; ../production.stx/#statix/type_5_3 line 5; ../sort.stx/#statix/type_6_3 line 6; ../sort_cons.stx/#statix/type_6_3 line 6; ../symbol.stx/#statix/type_5_3 line 5; ../section/syntax.stx/#statix/type_8_3 line 8; ../section/template.stx/#statix/type_7_3 line 7"><span class="token sort_Id">statix/type</span></button>

<span class="keyword">signature</span>

  <span class="keyword">sorts</span> <span class="cons_SortDecl"><button class="modal-open" id="TYPE_5_9" title="Multi-file references" data-urls="#TYPE_6_37 line 6, 7, 8, 9, 10, 11, 12, 13, 14, 17, 21, 26, 31, 35; ../cons.stx/#TYPE_11_37 line 11, 19, 25, 32, 38; ../module.stx/#TYPE_43_40 line 43, 49; ../production.stx/#TYPE_11_26 line 11; ../sort.stx/#TYPE_21_47 line 21, 28, 34; ../sort_cons.stx/#TYPE_32_33 line 32, 37, 44; ../symbol.stx/#TYPE_36_35 line 36; ../section/syntax.stx/#TYPE_69_49 line 69; ../section/template.stx/#TYPE_48_59 line 48, 63, 72, 78, 85, 90"><span class="token sort_Id">TYPE</span></button></span> <span class="keyword">constructors</span>
    <span class="cons_OpDecl"><a href="../sort.stx/#SORT_23_14" id="SORT_6_5" title="Referenced at ../sort.stx line 23"><span class="token sort_Id">SORT</span></a>     <span class="operator">:</span> <span class="cons_OccurrenceSort">occurrence</span>        <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_6_37" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="../symbol.stx/#SEQ_55_48" id="SEQ_7_5" title="Referenced at ../symbol.stx line 55"><span class="token sort_Id">SEQ</span></a>      <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_7_16" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_7_28" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_7_37" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="../symbol.stx/#OPT_58_34" id="OPT_8_5" title="Referenced at ../symbol.stx line 58"><span class="token sort_Id">OPT</span></a>      <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_8_16" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span>              <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_8_37" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="../symbol.stx/#ITER_60_35" id="ITER_9_5" title="Referenced at ../symbol.stx line 60, 62, 64, 66"><span class="token sort_Id">ITER</span></a>     <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_9_16" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span>              <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_9_37" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="../symbol.stx/#ALT_68_44" id="ALT_10_5" title="Referenced at ../symbol.stx line 68"><span class="token sort_Id">ALT</span></a>      <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_10_16" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_10_23" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span>       <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_10_37" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="../symbol.stx/#TERMINAL_72_35" id="TERMINAL_11_5" title="Referenced at ../symbol.stx line 72, 73, 74, 75"><span class="token sort_Id">TERMINAL</span></a> <span class="operator">:</span>                      <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_11_37" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="../cons.stx/#PROD_13_14" id="PROD_12_5" title="Referenced at ../cons.stx line 13, 39"><span class="token sort_Id">PROD</span></a>     <span class="operator">:</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_12_21" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_12_29" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_12_37" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><button class="modal-open" id="INJ_13_5" title="Multi-file references" data-urls="../section/syntax.stx/#INJ_74_14 line 74; ../section/template.stx/#INJ_53_14 line 53"><span class="token sort_Id">INJ</span></button>      <span class="operator">:</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_13_21" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_13_29" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_13_37" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="../module.stx/#MOD_40_43" id="MOD_14_5" title="Referenced at ../module.stx line 40, 76"><span class="token sort_Id">MOD</span></a>      <span class="operator">:</span> <span class="cons_ScopeSort">scope</span>             <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_14_37" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span></span>

  <span class="keyword">relations</span>
    <span class="cons_Label"><button class="modal-open" id="typeOfDecl_17_5" title="Multi-file references" data-urls="../cons.stx/#typeOfDecl_14_33 line 14, 15, 21, 34; ../module.stx/#typeOfDecl_40_32 line 40, 46; ../sort.stx/#typeOfDecl_24_26 line 24, 30"><span class="token sort_Id">typeOfDecl</span></button></span> <span class="operator">:</span> <span class="cons_OccurrenceSort">occurrence</span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_17_32" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span>

<span class="keyword">rules</span>

  <button class="modal-open" id="onlyOneOf_21_3" title="Multi-file references" data-urls="#onlyOneOf_22_3 line 22, 23, 24; ../cons.stx/#onlyOneOf_16_5 line 16"><span class="token sort_Id">onlyOneOf</span></button> <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_21_15" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">((</span><span class="cons_PathSort">path</span> <span class="operator">*</span> <span class="operator">(</span><span class="cons_OccurrenceSort">occurrence</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_21_49" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)))</span>
  <a href="#onlyOneOf_21_3" id="onlyOneOf_22_3" title="Defined at line 21"><span class="token sort_Id">onlyOneOf</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ty_22_47" id="ty_22_13" title="Referenced at line 22"><span class="token sort_Id">ty</span></a></span><span class="operator">,</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Var">ty</span> <span class="operator">))|</span><span class="cons_Var"><a href="#ps_22_51" id="ps_22_32" title="Referenced at line 22"><span class="token sort_Id">ps</span></a></span><span class="operator">])</span> <span class="operator">:-</span> <a href="#noneOf_26_3" id="noneOf_22_40" title="Defined at line 26"><span class="token sort_Id">noneOf</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ty_22_13" id="ty_22_47" title="Defined at line 22"><span class="token sort_Id">ty</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ps_22_32" id="ps_22_51" title="Defined at line 22"><span class="token sort_Id">ps</span></a></span><span class="operator">).</span>
  <a href="#onlyOneOf_21_3" id="onlyOneOf_23_3" title="Defined at line 21"><span class="token sort_Id">onlyOneOf</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ty_23_50" id="ty_23_13" title="Referenced at line 23"><span class="token sort_Id">ty</span></a></span><span class="operator">,</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Var"><span id="ty'_23_26" title="Not referenced"><span class="token sort_Id">ty'</span></span></span><span class="operator">))|</span><span class="cons_Var"><a href="#ps_23_54" id="ps_23_32" title="Referenced at line 23"><span class="token sort_Id">ps</span></a></span><span class="operator">])</span> <span class="operator">:-</span> <a href="#onlyOneOf_21_3" id="onlyOneOf_23_40" title="Defined at line 21"><span class="token sort_Id">onlyOneOf</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ty_23_13" id="ty_23_50" title="Defined at line 23"><span class="token sort_Id">ty</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ps_23_32" id="ps_23_54" title="Defined at line 23"><span class="token sort_Id">ps</span></a></span><span class="operator">).</span>
  <a href="#onlyOneOf_21_3" id="onlyOneOf_24_3" title="Defined at line 21"><span class="token sort_Id">onlyOneOf</span></a><span class="operator">(</span><span class="cons_Var"><span id="ty_24_13" title="Not referenced"><span class="token sort_Id">ty</span></span></span><span class="operator">,</span> <span class="operator">[])</span>                 <span class="operator">:-</span> <span class="keyword">false</span><span class="operator">.</span>

  <a href="#noneOf_22_40" id="noneOf_26_3" title="Referenced at line 22, 27, 28, 29"><span class="token sort_Id">noneOf</span></a> <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_26_12" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">((</span><span class="cons_PathSort">path</span> <span class="operator">*</span> <span class="operator">(</span><span class="cons_OccurrenceSort">occurrence</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_26_46" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)))</span>
  <a href="#noneOf_26_3" id="noneOf_27_3" title="Defined at line 26"><span class="token sort_Id">noneOf</span></a><span class="operator">(</span><span class="cons_Var">ty</span><span class="operator">,</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Var"><span id="ty_27_23" title="Not referenced"><span class="token sort_Id">ty</span></span></span> <span class="operator">))|</span><span class="cons_Var"><span id="ps_27_29" title="Not referenced"><span class="token sort_Id">ps</span></span></span><span class="operator">])</span> <span class="operator">:-</span> <span class="keyword">false</span><span class="operator">.</span>
  <a href="#noneOf_26_3" id="noneOf_28_3" title="Defined at line 26"><span class="token sort_Id">noneOf</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ty_28_44" id="ty_28_10" title="Referenced at line 28"><span class="token sort_Id">ty</span></a></span><span class="operator">,</span> <span class="operator">[(_,</span> <span class="operator">(_,</span> <span class="cons_Var"><span id="ty'_28_23" title="Not referenced"><span class="token sort_Id">ty'</span></span></span><span class="operator">))|</span><span class="cons_Var"><a href="#ps_28_48" id="ps_28_29" title="Referenced at line 28"><span class="token sort_Id">ps</span></a></span><span class="operator">])</span> <span class="operator">:-</span> <a href="#noneOf_26_3" id="noneOf_28_37" title="Defined at line 26"><span class="token sort_Id">noneOf</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ty_28_10" id="ty_28_44" title="Defined at line 28"><span class="token sort_Id">ty</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ps_28_29" id="ps_28_48" title="Defined at line 28"><span class="token sort_Id">ps</span></a></span><span class="operator">).</span>
  <a href="#noneOf_26_3" id="noneOf_29_3" title="Defined at line 26"><span class="token sort_Id">noneOf</span></a><span class="operator">(</span><span class="cons_Var"><span id="ty_29_10" title="Not referenced"><span class="token sort_Id">ty</span></span></span><span class="operator">,</span> <span class="operator">[])</span>                 <span class="operator">:-</span> <span class="keyword">true</span><span class="operator">.</span>

  <button class="modal-open" id="appendTypes_31_3" title="Multi-file references" data-urls="#appendTypes_32_3 line 32, 33, 36; ../section/template.stx/#appendTypes_66_51 line 66, 79"><span class="token sort_Id">appendTypes</span></button> <span class="operator">:</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_31_22" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_31_35" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">-&gt;</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_31_49" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span>
  <a href="#appendTypes_31_3" id="appendTypes_32_3" title="Defined at line 31"><span class="token sort_Id">appendTypes</span></a><span class="operator">([</span><span class="cons_Var">t</span><span class="operator">|</span><span class="cons_Var"><span id="ts_32_18" title="Not referenced"><span class="token sort_Id">ts</span></span></span><span class="operator">],</span> <span class="cons_Var">types</span><span class="operator">)</span> <span class="operator">=</span> <span class="operator">[</span><span class="cons_Var"><span id="t_32_33" title="Not referenced"><span class="token sort_Id">t</span></span></span><span class="operator">|</span><a href="#appendTypes_31_3" id="appendTypes_32_35" title="Defined at line 31"><span class="token sort_Id">appendTypes</span></a><span class="operator">(</span><span class="cons_Var">ts</span><span class="operator">,</span> <span class="cons_Var"><span id="types_32_51" title="Not referenced"><span class="token sort_Id">types</span></span></span><span class="operator">)].</span>
  <a href="#appendTypes_31_3" id="appendTypes_33_3" title="Defined at line 31"><span class="token sort_Id">appendTypes</span></a><span class="operator">([</span>    <span class="operator">],</span> <span class="cons_Var"><span id="types_33_23" title="Not referenced"><span class="token sort_Id">types</span></span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var">types</span><span class="operator">.</span>

  <button class="modal-open" id="flattenTypes_35_3" title="Multi-file references" data-urls="#flattenTypes_36_3 line 36, 37; ../section/template.stx/#flattenTypes_64_51 line 64, 65"><span class="token sort_Id">flattenTypes</span></button> <span class="operator">:</span> <span class="keyword">list</span><span class="operator">(</span><span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_35_28" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span><span class="operator">))</span> <span class="operator">-&gt;</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_5_9" id="TYPE_35_43" title="Defined at line 5"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span>
  <a href="#flattenTypes_35_3" id="flattenTypes_36_3" title="Defined at line 35"><span class="token sort_Id">flattenTypes</span></a><span class="operator">([</span><span class="cons_Var"><span id="ts_36_17" title="Not referenced"><span class="token sort_Id">ts</span></span></span><span class="operator">|</span><span class="cons_Var"><span id="tts_36_20" title="Not referenced"><span class="token sort_Id">tts</span></span></span><span class="operator">])</span> <span class="operator">=</span> <a href="#appendTypes_31_3" id="appendTypes_36_28" title="Defined at line 31"><span class="token sort_Id">appendTypes</span></a><span class="operator">(</span><span class="cons_Var">ts</span><span class="operator">,</span> <a href="#flattenTypes_35_3" id="flattenTypes_36_44" title="Defined at line 35"><span class="token sort_Id">flattenTypes</span></a><span class="operator">(</span><span class="cons_Var">tts</span><span class="operator">)).</span>
  <a href="#flattenTypes_35_3" id="flattenTypes_37_3" title="Defined at line 35"><span class="token sort_Id">flattenTypes</span></a><span class="operator">([</span>      <span class="operator">])</span> <span class="operator">=</span> <span class="operator">[].</span>

</code></pre></td></tr></tbody></table></div>

<div id="modal">
  <div id="modal-content">
    <span id="modal-close">&times;</span>
    <h2 id="modal-h2"></h2>
    <p  id="modal-p"></p>
    <ul id="modal-ul"></ul>
  </div>
</div>
